---
title: "Мой первый сайт на Apache в Ubuntu"
excerpt: "Установка Apache на сервер Ubuntu в VirtualBox и ошибки, с которыми я столкнулся. От конфликтов портов до проблем с конфигурацией."
date: "2025-01-22"
readTime: "10 мин"
tags: ["linux", "apache", "web-server"]
author: "Azize"
---

После изучения основ Linux пришло время сделать что-то реальное: настроить веб-сервер. Моя цель была проста - запустить сайт на Ubuntu VM и получить к нему доступ из Windows. Звучит легко, правда? Не тут-то было.

## Установка Apache: Простая часть

Установка [Apache](https://httpd.apache.org/) была действительно простой:

```bash
sudo apt update
sudo apt install apache2
sudo systemctl status apache2
```

Я обрадовался, увидев `active (running)`. Открыл IP виртуальной машины в браузере и... ничего. Вот тут и началось приключение.

## Первая ошибка: Конфликт портов

Когда я попытался перезапустить Apache, в терминале появился красный текст:

```
Address already in use: AH00072: make_sock: could not bind to address 0.0.0.0:80
```

Порт 80 уже был занят. Я проверил, кто его использует:

```bash
sudo lsof -i :80
```

Оказалось, что другой веб-сервер, который я установил ранее для тестирования, всё ещё работал. У меня было два варианта: остановить его или изменить порт Apache. Я выбрал изменение порта - поменял `Listen 80` на `Listen 8080` в `/etc/apache2/ports.conf`.

## Вторая ошибка: Опечатка!

Когда я запустил Apache, новая ошибка:

```
AH02297: Cannot access directory "/etc/apache2/${APACHE_LOG_DIR]"
```

Внимательно посмотрев, я заметил: `${APACHE_LOG_DIR]` - я использовал квадратную скобку вместо фигурной! Ошибка в один символ отняла полчаса моего времени. Я узнал команду `sudo apache2ctl configtest` - проверка синтаксиса после каждого изменения обязательна.

## Создание сайта

Когда ошибки были устранены, пришло время для контента. Я создал папку `/var/www/mysite` и написал простой HTML-файл. Затем настройка Virtual Host:

```bash
sudo nano /etc/apache2/sites-available/mysite.conf
```

Активировал сайт командой `a2ensite mysite.conf`, отключил стандартный через `a2dissite 000-default.conf`. `sudo systemctl reload apache2` и...

Открыл `http://192.0.2.100:8080` в браузере Windows. Когда увидел "Привет, мир!", был по-настоящему счастлив. Простая HTML-страница, но большой шаг для меня.

## Уроки

Выводы из этого опыта:
- **Действительно** читать сообщения об ошибках важно
- Всегда используй `apache2ctl configtest`
- Проверяй порты с `lsof -i :port`
- Не забывай про файрвол: `sudo ufw allow 8080/tcp`

Следующий - Nginx. Говорят, он легче и быстрее. Посмотрим.

**Полезные ссылки:** [Apache Docs](https://httpd.apache.org/docs/) | [Ubuntu Server Guide](https://ubuntu.com/server/docs)
